<!DOCTYPE HTML>
<html>

<head>
    <title>this is a test</title>
    <meta charset="UTF-8">
    <script src="http://code.createjs.com/createjs-2013.12.12.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
     <link rel="stylesheet" type="text/css" href="styles/tasks.css">

    <script>
        var canvas;
        var stage;
        var mSetShape = new createjs.Shape();



        function init() {
            canvas = document.getElementById("canvas");
            canvas.style.visibility = "visible";
            stage = new createjs.Stage(canvas);
            stage.update();

            fillSet();

            zoomPointer = new createjs.Shape();
            zoomPointer.graphics.beginFill("rgba(50, 140, 200, 0.1)").drawRect(0, 0, 200, canvas.height/canvas.width*200);
            zoomPointer.graphics.beginStroke("rgba(50, 140, 200)").drawRect(0, 0, 200, canvas.height / canvas.width * 200);
            zoomPointer.regX = 100;
            zoomPointer.regY = 75;
            zoomPointer.visible = false;
            stage.addChild(zoomPointer);
            stage.update();
            
  
            stage.on("stagemousemove", function (e) {
                if (stage.mouseInBounds) {
                    stage.children[1].visible = true;
                    stage.children[1].x = e.stageX;
                    stage.children[1].y = e.stageY;
                    stage.update();
                } else {
                    stage.children[1].visible = false;
                    stage.update();
                }
            });
                     
            canvas.onmousewheel = function (e) {
                var delta = Math.max(-1, Math.min(1, e.wheelDelta));
                stage.children[1].scaleX = (1 + delta * 0.2) * stage.children[1].scaleX;
                stage.children[1].scaleY = (1 + delta * 0.2) * stage.children[1].scaleY;
                stage.update();
                return false; //this prevents the default scrolling
            }

        }

        function myFill() {
            //mSetShape.graphics.beginFill("black").drawRect(0, 0, canvas.width, canvas.height);
            var ctx = canvas.getContext("2d");
            ctx.fillStyle = "red";
            for (i = 0; i < 100; i++) {
                for (j = 0; j < 100; j++) {
                    ctx.fillRect(i, j, 1, 1);
                }
                
            }

            //stage.update();
        }

        function myFill2() {

        }

        function fillSet() {
           // mSetShape.graphics.beginFill("green").drawRect(0, 0, canvas.width, canvas.height);
           // stage.addChild(mSetShape);
           

            var ctx = canvas.getContext("2d");
            ctx.fillStyle = "blue";
            ctx.fillRect(60, 60, 100, 100);

            var bmp = new createjs.Bitmap(canvas);
            stage.addChild(bmp);
            //stage.update();

        }

    </script>

</head>


<body onload="init();">
  <section class="newline">
        <canvas id="canvas"  width="760" height="480" style="border: 1px solid #0094ff; visibility: hidden"></canvas>
  </section>

  <a class="txtButton" onclick="myFill()">Fill</a>
  <a class="txtButton" onclick="myFill2()">Fill2</a>
  <label id="in1">Output</label>
  <input id="out1"; type="text"/>

</body>
</html>
